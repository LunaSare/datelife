<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Taxon name resolution service (tnrs) applied to a vector of names by batches. — tnrs_match • datelife</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Taxon name resolution service (tnrs) applied to a vector of names by batches. — tnrs_match" />
<meta property="og:description" content="Taxon name resolution service (tnrs) applied to a vector of names by batches." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">datelife</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/phylotastic/datelife/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Taxon name resolution service (tnrs) applied to a vector of names by batches.</h1>
    <small class="dont-index">Source: <a href='https://github.com/phylotastic/datelife/blob/master/R/opentree_taxonomy_general.R'><code>R/opentree_taxonomy_general.R</code></a></small>
    <div class="hidden name"><code>tnrs_match.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Taxon name resolution service (tnrs) applied to a vector of names by batches.</p>
    </div>

    <pre class="usage"><span class='fu'>tnrs_match</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>reference_taxonomy</span>, <span class='va'>tip</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>tnrs_match</span><span class='op'>(</span><span class='va'>input</span>, reference_taxonomy <span class='op'>=</span> <span class='st'>"otl"</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for phylo</span>
<span class='fu'>tnrs_match</span><span class='op'>(</span><span class='va'>input</span>, reference_taxonomy <span class='op'>=</span> <span class='st'>"otl"</span>, tip <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>input</th>
      <td><p>A character vector of taxon names, or a phylo object with tip names, to be matched to taxonomy.</p></td>
    </tr>
    <tr>
      <th>reference_taxonomy</th>
      <td><p>A character vector specifying the reference taxonomy to use for tnrs.</p></td>
    </tr>
    <tr>
      <th>tip</th>
      <td><p>A vector of mode numeric or character specifying the tips to match. If left empty all tips will be matched.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to <code><a href='https://docs.ropensci.org/rotl/reference/tnrs_match_names.html'>rotl::tnrs_match_names</a></code></p><dl>
    <dt><code>context_name</code></dt><dd><p>name of the taxonomic context to be searched
(length-one character vector). Must match (case sensitive) one
of the values returned by <code><a href='https://docs.ropensci.org/rotl/reference/tnrs_contexts.html'>tnrs_contexts</a></code>.</p></dd>
    <dt><code>do_approximate_matching</code></dt><dd><p>A logical indicating whether or not
to perform approximate string (a.k.a. &#8220;fuzzy&#8221;)
matching. Using <code>FALSE</code> will greatly improve
speed. Default, however, is <code>TRUE</code>.</p></dd>
    <dt><code>ids</code></dt><dd><p>A vector of ids to use for identifying names. These
will be assigned to each name in the names array. If ids is
provided, then ids and names must be identical in length.</p></dd>
    <dt><code>include_suppressed</code></dt><dd><p>Ordinarily, some quasi-taxa, such as
incertae sedis buckets and other non-OTUs, are suppressed from
TNRS results. If this parameter is true, these quasi-taxa are
allowed as possible TNRS results.</p></dd>
  
</dl></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class  data frame or phylo, with the added class match_names.</p>
<p><code>NULL</code></p>
<p><code>NULL</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There is no limit to the number of names that can be queried and matched.</p>
<p>The output will preserve all elements from original input phylo object and will add</p><dl>
    <dt>phy$mapped</dt><dd><p>A character vector indicating the state of mapping of phy$tip.labels:</p></dd>
		
		    
		    
		    
		    
		    
		
    <dt>phy$original.tip.label</dt><dd><p>A character vector preserving all original labels.</p></dd>
    <dt>phy$ott_ids</dt><dd><p>A numeric vector with ott id numbers of matched tips. Unmatched and original tips will be NaN.</p></dd>

</dl><p>if tips are duplicated, tnrs will only be run once (avoiding increases in function running time) but the result will be applied to all duplicated tip labels</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>tnrs_match</span><span class='op'>(</span>input <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Mus"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</div><div class='output co'>#&gt;   search_string                  unique_name approximate_match  ott_id
#&gt; 1           mus Mus (genus in Deuterostomia)             FALSE 1068778
#&gt;   is_synonym          flags number_matches
#&gt; 1      FALSE SIBLING_HIGHER              3</div><div class='input'><span class='fu'>tnrs_match</span><span class='op'>(</span>input <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Mus"</span>, <span class='st'>"Mus musculus"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%</div><div class='output co'>#&gt;   search_string                  unique_name approximate_match  ott_id
#&gt; 1           mus Mus (genus in Deuterostomia)             FALSE 1068778
#&gt; 2  mus musculus                 Mus musculus             FALSE  542509
#&gt;   is_synonym          flags number_matches
#&gt; 1      FALSE SIBLING_HIGHER              3
#&gt; 2      FALSE                             1</div><div class='input'><span class='fu'>tnrs_match</span><span class='op'>(</span>input <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Mus"</span>, <span class='st'>"Echinus"</span>, <span class='st'>"Hommo"</span>, <span class='st'>"Mus"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%</div><div class='output co'>#&gt;     search_string                     unique_name approximate_match  ott_id
#&gt; 1             mus    Mus (genus in Deuterostomia)             FALSE 1068778
#&gt; 2         echinus Echinus (genus in Opisthokonta)             FALSE  616574
#&gt; 3           hommo                            Homo              TRUE  770309
#&gt; 1.1           mus    Mus (genus in Deuterostomia)             FALSE 1068778
#&gt;     is_synonym          flags number_matches
#&gt; 1        FALSE SIBLING_HIGHER              3
#&gt; 2        FALSE sibling_higher              4
#&gt; 3        FALSE sibling_higher              1
#&gt; 1.1      FALSE SIBLING_HIGHER              3</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Brian O'Meara, Luna L. Sanchez-Reyes, Jonathan Eastman, Tracy Heath, April Wright, Klaus Schliep, Scott Chamberlain, Peter Midford, Luke Harmon, Joseph Brown, Matt Pennell, Mike Alfaro.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


